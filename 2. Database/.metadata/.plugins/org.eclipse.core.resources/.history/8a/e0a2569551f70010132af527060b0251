-- employees라는 데이터베이스 선택
use employees;

select emp_no, birth_date from employees;
select hire_date from employees;
select emp_no, from_date, to_date from dept_manager;
select * from departments;

insert into employees
values (1,
        '2000-01-01',
        'jaeseop',
        'kim',
        'M',
        now());

select * from employees;

INSERT INTO departments
values('d010',
       'Korea IT Department');

INSERT INTO employees 
VALUES (2,
        '2002-01-01',
        'gayeon',
        'lee',
        'F',
        now());

INSERT INTO dept_emp 
VALUES (1,
        'd010',
        now(),
        '9999-01-01');

SELECT * FROM departments;
SELECT * FROM employees;
SELECT * FROM dept_emp;

UPDATE employees
SET first_name = '길동'
WHERE emp_no = 10001;

UPDATE employees
SET last_name = '홍',
    hire_date = now()
WHERE emp_no = 10001;

SELECT * FROM employees;

UPDATE departments
SET dept_name = 'Tech Sales'
WHERE dept_no = 'd007';

UPDATE employees
SET birth_date = '1977-07-07'
WHERE last_name = 'Erie';

SELECT * FROM departments;

SELECT * FROM employees WHERE last_name='Erie';

DELETE FROM employees
WHERE emp_no = 10005;

DELETE FROM employees 
WHERE hire_date = '1993-05-12';

SELECT * FROM employees WHERE hire_date = '1993-05-12';

DELETE FROM employees 
WHERE emp_no = 28847;

SELECT * FROM employees
WHERE emp_no = 28847;

CREATE TABLE test_member (
	member_id varchar(50) COMMENT '아이디',
-- 	비밀번호는 저장할 때 암호화해서 저장하기 때문에 255
	member_pwd varchar(255) COMMENT '비밀번호',
	member_name varchar(50) COMMENT '이름',
	member_age TINYINT COMMENT '나이',
	member_in_date datetime COMMENT '가입일'
);

DROP TABLE test_member;

CREATE TABLE free_board (
	board_no int COMMENT '게시판 번호',
	board_titile varchar(100) COMMENT '게시판 제목',
	board_content text COMMENT '게시판 내용',
	board_date datetime COMMENT '게시판 작성일',
	board_views int COMMENT '게시판 조회수'
);

INSERT INTO free_board
VALUES (1,
		'개인 게시판',
		'Hello, World!',
		now(),
		10
);

INSERT INTO free_board
VALUES (2,
		'모두의 게시판',
		'Hello, Database!',
		now(),
		3
);

SELECT * FROM free_board;

CREATE TABLE ddl_alter_test (
	alter_id varchar(255),
	alter_name varchar(255),
	alter_as varchar(255)
);

-- 테이블 이름 변경
ALTER TABLE ddl_alter_test RENAME TO ddl_alter;

-- 테이블 구조 변경 (컬럼 변경)
ALTER TABLE ddl_alter
MODIFY alter_as varchar(100);

-- 테이블 구조 변경 (컬럼 추가)
ALTER TABLE ddl_alter 
ADD alter_pwd varchar(255);

-- 테이블 구조 변경 (컬럼 삭제)
ALTER TABLE ddl_alter 
DROP COLUMN alter_as;

-- alter_name이라는 컬럼에 중복된 값이 들어가서는 안된다라는 조건을 추가
ALTER TABLE ddl_alter 
ADD CONSTRAINT alter_name_unique UNIQUE(alter_name);

-- "nirsa", "김재섭", "qwer1234!"
INSERT INTO ddl_alter 
VALUES ('narsa',
		'김재섭',
		'qwer1234!');

-- "test", "김재섭", "111111"
INSERT INTO ddl_alter 
VALUES ('test',
		'김재섭',
		'111111');

-- MySQL에서는 지원 X, 수정하려면 제거 후 다시 추가
-- ALTER TABLE ddl_alter
-- RENAME CONSTRAINT alter_name_unique TO name_unique;
ALTER TABLE ddl_alter
DROP CONSTRAINT alter_name_unique;

ALTER TABLE ddl_alter 
ADD CONSTRAINT name_unique UNIQUE(alter_name);

CREATE TABLE test_employees(
	te_employee_id int,
	te_first_name varchar(50),
	te_last_name varchar(50),
	te_salary int,
	te_department varchar(50)
);

SELECT * FROM test_employees;

ALTER TABLE test_employees
RENAME TO STAFF;

ALTER TABLE STAFF
MODIFY te_department varchar(100);

ALTER TABLE staff
RENAME column te_last_name TO surname;

ALTER TABLE staff
DROP te_first_name;

ALTER TABLE staff
ADD te_hire_date datetime;

ALTER TABLE staff
ADD CONSTRAINT te_salary_check unique(te_salary);

SELECT * FROM staff;

DROP TABLE ddl_alter;

DROP TABLE free_board;

DROP TABLE staff;

DROP TABLE test_member;




