<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>학습게시판 - 게시판</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>

  <!-- ===== Header ===== -->
  <div th:replace="fragments/header :: header"></div>


  <!-- ===== Main ===== -->
  <main class="main">

    <!-- Section Header -->
    <div class="section-header">
      <h2>게시판</h2>
      <div class="search-box">
        <input type="text" class="form-input" placeholder="게시글 검색...">
        <button type="button" class="btn btn-secondary">
          <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
          검색
        </button>
      </div>
    </div>

    <!-- Board Top Bar -->
    <div class="board-topbar">
      <span class="info"> 
		총 <strong th:text="${page.totalElements}"></strong>개의 게시글</span>
      <a href="/board/write/form" class="btn btn-primary btn-sm">
        <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        새 글 작성
      </a>
    </div>

    <!-- Board Table -->
    <div class="table-wrapper">
      <table class="table">
        <thead>
          <tr>
            <th class="col-no">번호</th>
            <th class="col-title">제목</th>
            <th class="col-author">작성자</th>
            <th class="col-date">작성일</th>
            <th class="col-views">조회수</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="b, stat : ${page.content}">
            <td class="col-no" th:text="${page.totalElements - (page.number * page.size) - stat.index}"></td>
            <td class="col-title">
              <a th:href="@{/board/{id}(id=${b.id})}"
				 th:text="${b.title}"></a>
              <span class="badge badge-primary" style="margin-left: 0.5rem;">NEW</span>
            </td>
            <td class="col-author" th:text="${b.writer.nickname}"></td> 
            <td class="col-date" th:text="${#temporals.format(b.createdAt, 'yyyy-MM-dd')}"></td>
            <td class="col-views" th:text="${b.viewCount}"></td>
          </tr>
         
        </tbody>
      </table>
    </div>

    <!-- Pagination -->
    <nav class="pagination" aria-label="페이지 이동">
		
	  <!-- 이전 -->
      <a th:if="${currentPage > 1}"
		 th:href="@{/board(page=${currentPage-2}, keyword=${keyword})}" class="disabled" 
		 aria-label="이전 페이지">&laquo;</a>
	  <span th:if="${currentPage == 1}" class="disabled">&laquo;</span>
		 
	  <!-- 페이지 번호-->
	  <th:block th:each="p : ${#numbers.sequence(startPage, endPage)}">
      	<span th:if="${p == currentPage}" class="active" th:text="${p}"></span>
	  	<a th:if="${p != currentPage}"
	     	th:href="@{/board(page=${p-1}, keyword=${keyword})}"
	     	th:text="${p}"></a>
	  </th:block> 
	  
	  <!-- 다음 -->
	  <a th:if="${currentPage < page.totalPages}"
		 th:href="@{/board(page=${currentPage}, keyword=${keyword})}"
		 aria-label="다음 페이지">&raquo;</a>

	  <span th:if="${currentPage >= page.totalPages}" class="disabled">&raquo;</span>
    </nav>

  </main>

  <!-- ===== Footer ===== -->
  <footer class="footer">
    <p>학습용 웹페이지 &copy; 2026 &mdash; HTML, CSS, JavaScript 실습 프로젝트</p>
  </footer>

  <script src="js/app.js"></script>
</body>
</html>
